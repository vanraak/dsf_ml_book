<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Chapter 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="1-Intro_files/libs/clipboard/clipboard.min.js"></script>
<script src="1-Intro_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="1-Intro_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="1-Intro_files/libs/quarto-html/popper.min.js"></script>
<script src="1-Intro_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="1-Intro_files/libs/quarto-html/anchor.min.js"></script>
<link href="1-Intro_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="1-Intro_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="1-Intro_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="1-Intro_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="1-Intro_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="custom.css">
</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Chapter 1</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="sec-ch1-intro-Python" class="level1">
<h1>Getting Started with Python</h1>
<p>What do Spotify recommendations, fraud detection systems, and ChatGPT have in common? They all rely on data—and on programming languages to process, analyze, and act on it. In the world of data science, <strong>Python</strong> is the most widely used programming language for machine learning and data analysis. <strong>Python</strong> is an open source general programming language that can be used to develop for example software, games, and websites. However, thanks to libraries like NumPy, pandas and scikit-learn it is particularly suited for data-driven applications.</p>
<p>By the end of this chapter, you will have installed <strong>Python</strong>, explored its basic syntax, and loaded and visualized a real-world dataset with just a few lines of code. No prior experience with programming is required—only curiosity and a willingness to learn. If you are already familiar with <strong>Python</strong> and comfortable using <strong>Jupyter Notebooks</strong>, you may wish to skim this chapter and proceed directly to Chapter <strong>?@sec-ch2-intro-data-science</strong>, where we introduce the data science workflow and its core concepts.</p>
<p>To give a concrete example, imagine working with customer data to understand why users cancel their mobile service. With <strong>Python</strong>, you can summarize call behavior, compare usage patterns across churned and retained customers, and create intuitive plots to reveal trends. For instance, you might find that customers who churn tend to spend more time on daytime calls—an insight that could inform proactive retention strategies. This kind of analysis is explored in greater detail in Chapter <strong>?@sec-ch4-EDA</strong>.</p>
<p>Throughout this book, we follow a structured framework known as the <em>Data Science Workflow</em>, which includes seven key steps: problem understanding, data preparation, exploratory data analysis, data setup for modeling, modeling, evaluation, and communication. Each chapter builds on this framework. The foundational skills introduced here—including navigating Jupyter Notebooks, importing and manipulating data, and generating basic visualizations—will support your work at every stage. A detailed overview is provided in Chapter <strong>?@sec-ch2-intro-data-science</strong> (see <strong>?@fig-ch2_DSW</strong>).</p>
<section id="why-choose-python-for-data-science" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="why-choose-python-for-data-science">Why Choose Python for Data Science?</h3>
<p><strong>Python</strong> is a popular programming language for machine learning and data analysis, thanks in a large part to its design philosophy by Guide van Rossum, Python’s original creator, who emphasized readability from the start. Python was designed to have an easy-to-read syntax, relying on indentation (whitespace) for code blocks like conditional statements and loops. This facilitates code that is easy to read. This helps reduce errors and makes it easy to share code amongst collaborators.</p>
<p>A key strength of <strong>Python</strong> is its rich ecosystem of libraries. Examples include NumPy and pandas for data manipulation, Matplotlib and Seaborn for visualization and Scikit-Learn for machine learning algorithms. Python also supports data collection through web scraping and APIs. As a free, open-source programming language with cross-platform support and a large community of active users and developers, Python offers countless libraries that greatly extend its capabilities.</p>
<p>In the Python community, the terms <em>package</em> and <em>library</em> are often used interchangeably. We typically refer to libraries when discussing their use in code, while the term package is used when talking about installation tools like <code>pip</code> or <code>conda</code>. Throughout this book, both terms will be used according to context.</p>
<p>To support and streamline your coding experience, you want to rely on an Integrated Development Environment (IDE), such as Visual Studio Code, Spyder or Jupyter. IDEs provide an intuitive interface that typically includes a script editor, a Python interpreter, syntax completion and error highlighting, a filesystem explorer, and tools for managing plots. While various IDEs offer unique features and strengths, this book focuses on Jupyter as it is particularly well-suited for data analysis. Its cell-based workflow, which combines formatted text and code with clear visualization outputs, enables easy and intuitive interaction with your data.</p>
</section>
<section id="what-this-chapter-covers" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="what-this-chapter-covers">What This Chapter Covers</h3>
<p>This chapter is designed for true beginners—readers who may have never written a line of code before. If you are new to <strong>Python</strong>, programming, or data science, you are in the right place. Drawing on years of teaching experience, this chapter answers the most common questions students ask during lectures and labs—especially when encountering real data for the first time.</p>
<p>You are not expected to master every detail on your first read. Feel free to skip ahead or revisit sections as needed. This chapter is meant to serve as a practical, flexible reference: one you can return to throughout the book for reminders about syntax, data structures, visualization basics, or how to import and explore data in <strong>Python</strong>.</p>
<p>In this chapter, you will:</p>
<ul>
<li>Set up your environment by installing <strong>Python</strong> and <strong>Jupyter</strong>;</li>
<li>Learn to navigate the Jupyter interface and run your first commands;</li>
<li>Understand core data structures such as lists, arrays and DataFrames;</li>
<li>Import datasets, install packages, and explore your data;</li>
<li>Create basic visualizations using the <strong>matplotlib</strong> package;</li>
<li>Document your work with reproducible reports using Markdown.</li>
</ul>
<p><em>By the end of this chapter, you will be able to load, explore, and visualize a real-world dataset with just a few lines of code—laying the foundation for your data science journey.</em></p>
</section>
<section id="how-to-learn-python" class="level2">
<h2 class="anchored" data-anchor-id="how-to-learn-python">How to Learn Python</h2>
<p>Learning Python opens the door to a wide range of powerful tools in data analysis, statistics, and machine learning. If you are new to programming, the learning curve may appear steep at first. However, consistent practice, thoughtful exploration, and the right resources make the journey both manageable and rewarding.</p>
<p>There is no single best way to learn <strong>Python</strong>. Some learners benefit from structured textbooks, others from interactive exercises or video tutorials. For general programming skills, <a href="https://allendowney.github.io/ThinkPython/"><em>Think Python by Allen B. Downey</em></a> is a great resource. <a href="https://wesmckinney.com/book/"><em>Python for Data Analysis by Wes McKinney, the author of the pandas Library</em></a> is a great guide on manipulating, processing and cleaning data. <a href=".."><em>An Introduction to Statistics with Python by Thomas Halswanter</em></a> provides a good introduction to using Python for statistical tests and analyses. <a href=".."><em>An Introduction to Statistical Learning</em></a> discusses various modeling and prediction techniques using datasets drawn from a diverse fields. Interactive platforms like <a href="https://www.datacamp.com">DataCamp</a> and <a href="https://www.coursera.org">Coursera</a> offer hands-on practice, while YouTube channels such as <em>Data School</em> provide visual explanations of core concepts. As you grow more confident, communities like Stack Overflow become invaluable for answering specific coding questions and learning from others.</p>
<p>This mindset is well captured by James Clear’s concept of <em>The Power of Tiny Gains</em>, popularized in <em>Atomic Habits</em>: a 1% improvement each day may seem small, but it compounds into remarkable progress over time. <a href="#fig-ch1-tiny-gains" class="quarto-xref">Figure&nbsp;1</a>, created entirely in <strong>Python</strong>, illustrates this idea—and previews what you will soon be able to do: write code that explores ideas, generates plots, and communicates insights clearly and reproducibly.</p>
<div id="cell-fig-ch1-tiny-gains" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>,<span class="dv">366</span>)]</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>y1 <span class="op">=</span> [<span class="fl">1.01</span> <span class="op">**</span> i <span class="cf">for</span> i <span class="kw">in</span> x]</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>y2<span class="op">=</span> [<span class="fl">0.99</span> <span class="op">**</span> i <span class="cf">for</span> i <span class="kw">in</span> x]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>y3<span class="op">=</span>[<span class="dv">1</span>]<span class="op">*</span><span class="dv">366</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>sns.lineplot(x<span class="op">=</span>x, y<span class="op">=</span>y1, label<span class="op">=</span><span class="st">'y = (1.01)^x'</span>, linewidth<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>sns.lineplot(x<span class="op">=</span>x, y<span class="op">=</span>y2, label<span class="op">=</span><span class="st">'y = (0.99)^x'</span>, linewidth<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>sns.lineplot(x<span class="op">=</span>x, y<span class="op">=</span>y3, label<span class="op">=</span><span class="st">'y = 1'</span>, linewidth<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="dv">215</span>, <span class="dv">28</span>, <span class="st">"1% better every day"</span>, color<span class="op">=</span><span class="st">"blue"</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>plt.text(<span class="dv">290</span>, <span class="dv">2</span>, <span class="st">"Static"</span>, color<span class="op">=</span><span class="st">"green"</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Days"</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Improvement"</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>plt.legend(title<span class="op">=</span><span class="st">"Function"</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-ch1-tiny-gains" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch1-tiny-gains-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1-Intro_files/figure-html/fig-ch1-tiny-gains-output-1.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ch1-tiny-gains-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: The Power of Tiny Gains
</figcaption>
</figure>
</div>
</div>
</div>
<p>Learning <strong>Python</strong> is not about mastering everything at once. It is about making steady progress, one concept at a time. With each small success—loading a dataset, creating a plot, writing a function—you are building skills that will support you throughout your data science journey. Be patient, stay curious, and trust the process. Growth in programming, as in data, is often exponential—just like the green line in <a href="#fig-ch1-tiny-gains" class="quarto-xref">Figure&nbsp;1</a>.</p>
<p>To use Python and Jupyter, you can either rely on an online solution or install it locally on your own PC. Online environments, such as Anaconda Cloud or Google Colab, are already setup and ready to use. This makes them ideal for in-class usage, as all participants can use the same environment without requiring any support to confige Python or Jupyter. Local installations on the other hand allow for more flexibility and greater computing power (at least in comparison to free plans). In the next section, you will install <strong>Python</strong> and <strong>Jupyter</strong>—your primary tools for writing and running <strong>Python</strong> code.</p>
</section>
<section id="how-to-use-and-install-python" class="level2">
<h2 class="anchored" data-anchor-id="how-to-use-and-install-python">How to use and install Python</h2>
<p>Before you begin working with <strong>Python</strong>, you need to install both <strong>Python</strong> and and IDE (such as <strong>Jupyter</strong>) on your computer. There are two ways to install Python and Jupyter. You can either download Python from <a href="https://www.python.org*/downloads%5D"><em>Python.org</em></a> and install Jupyter manually (see instructions below), or download <a href="https://www.anaconda.com/download"><em>Anaconda</em></a> which is a distribution of Python that already includes Jupyter as well as many preinstalled libraries including NumPy, pandas, Matplotlib and Scikit-learn. We recommend using Anaconda for easy installation and virtual environment management.</p>
</section>
<section id="install-anaconda" class="level2">
<h2 class="anchored" data-anchor-id="install-anaconda">Install Anaconda</h2>
<p>You can download the Anaconda Distribution for your operating system from https://www.anaconda.com/download. After the download is complete, run the installer and follow the on-screen instructions. Once the installation is finished, Anaconda Navigator will be ready to use. From Anaconda Navigator, you can launch JupyterLab directly.</p>
</section>
<section id="optional-create-a-virtual-environment-in-anaconda" class="level2">
<h2 class="anchored" data-anchor-id="optional-create-a-virtual-environment-in-anaconda">Optional: Create a virtual environment in Anaconda</h2>
<p>If you installed Python (including Jupyter) using Anaconda, you can start coding right away by launching JupyterLab from the Anaconda Navigator. This setup is usually sufficient for basic data science projects. However, when working on multiple projects that require different versions of Python or specific packages, it’s best to use virtual environments. Virtual environments allow you to isolate dependencies for each project, helping you avoid conflicts and prevent issues caused by package upgrades. In this section, we’ll walk you through how to create and manage virtual environments using Anaconda.</p>
<p>Note: If you are just getting started, you can skip this step for now and come back to it later when your project requires a more customized setup.</p>
<p>For Windows open PowerShell or Command Prompt. On macOS or Linux open the Terminal. Run the following command to create a new virtual environment called ‘data_science’ that clones the base installation:</p>
<pre class="{bash}"><code>conda create --name data_science python=3.14</code></pre>
<p>Next, run the following command to activate the new virtual environment:</p>
<pre class="{bash}"><code>conda activate data_science</code></pre>
<p>On Windows this will display: (data_science) PS C:\Users\&lt;username&gt;&gt;</p>
<p>On macOS or Linux you will see: (data_science) username@hostname ~ %</p>
<p>Next, you need to install Jupyter and ipykernel by running the following command:</p>
<pre class="{bash }"><code>conda install jupyter ipykernel</code></pre>
<p>Type ‘y’ to proceed</p>
<p>You can start Jupyter lab directly from the command prompt by typing:</p>
<pre class="{bash}"><code>jupyter-lab</code></pre>
<p>Alternatively, you can start Anaconda Navigator from the Start menu (Windows) or Launchpad (macOS).</p>
<div id="91d7a34c" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="1-Intro_files/figure-html/cell-3-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>If you run Anaconda like this, make sure to select the ‘data_science’ virtual environment at the top of the screen (see image above) and subsequently launch JupyterLab.</p>
<p>If asked to select a kernel, select ‘Python [conda env:data_science]’:</p>
<div id="ddda195b" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="1-Intro_files/figure-html/cell-4-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>This will ensure that you work within the new ‘data_science’ virtual environment.</p>
<section id="installing-python-from-python.org-without-anaconda" class="level3">
<h3 class="anchored" data-anchor-id="installing-python-from-python.org-without-anaconda">Installing Python from python.org (without Anaconda)</h3>
<p>This section explain how to setup Python and JupyterLab if you have opted to download Python directly from python.org (not via Anaconda). You can download Python for your operating system from https://www.python.org/downloads. After the download is complete, run the installer and follow the on-screen instructions. Once the installation is finished, we will create a virtual environment and install JupyterLab. It is good practice to work in virtual environment. This allows you to isolate dependencies for different projects (e.g., different versions of the pandas library), avoid version conflicts, and prevent breaking system-level Python tools or libraries. For this reason, we first setup a virtual environment. You can create a virtual environment using the built-in venv module.</p>
</section>
<section id="setting-up-python-and-jupyter-on-a-windows-pc-without-anaconda" class="level3">
<h3 class="anchored" data-anchor-id="setting-up-python-and-jupyter-on-a-windows-pc-without-anaconda">Setting up Python and Jupyter on a Windows PC (without Anaconda)</h3>
<p>First you need to create a folder for your virtual environment. This can be created inside your user folder or elsewhere, for example on ‘c:\venvs’. To create a folder on your C-drive you can run the commands below.</p>
<pre class="{bash}"><code>mkdir c:\venvs
cd c:\venvs</code></pre>
<p>You can then create a virtual environment named ‘data_science’ as follows:</p>
<pre class="{bash}"><code>python -m venv .data_science</code></pre>
<p>You can activate the environment from the command prompt (CMD) or Windows Powershell:</p>
<pre class="{bash}"><code>.data_science\Scripts\activate</code></pre>
<p>Note: When using PowerShell, it may be required to first set the execution policy for the user. Run the following command if you received an error message stating ‘running scripts is disabled on this system’ when activating the virtual environment:</p>
<pre class="{bash}"><code>Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser</code></pre>
<p>Once the virtual environment is activated, the prompt should look as follows:</p>
<pre class="{bash}"><code>(.data_science) c:\venvs&gt;</code></pre>
<p>Next, you need to install Jupyter and ipykernel by running the following command:</p>
<pre class="{bash }"><code>pip install jupyter ipykernel</code></pre>
<p>Before launching Jupyter, make sure to navigate to your user folder or another directory where you want to save your data science projects.</p>
<p>In command prompt (cmd):</p>
<pre class="{bash }"><code>cd %USERPROFILE%</code></pre>
<p>In PowerShell:</p>
<pre class="{bash }"><code>cd ~</code></pre>
<p>Finally, you can run <strong>Jupyter</strong> by running the following command:</p>
<pre class="{bash}"><code>jupyter-lab</code></pre>
</section>
</section>
<section id="setting-up-python-and-jupyter-on-macos-or-linux-without-anaconda" class="level2">
<h2 class="anchored" data-anchor-id="setting-up-python-and-jupyter-on-macos-or-linux-without-anaconda">Setting up Python and Jupyter on macOS or Linux (without Anaconda)</h2>
<p>This section explains how to set up Python and JupyterLab for macOS or Linux if you’ve downloaded Python directly from python.org (not via Anaconda). First you need to create a folder for your virtual environment. This can be inside your home directory or elsewhere — for example, a folder called venvs:</p>
<p>You can setup a virtual environment as follows:</p>
<pre class="{bash}"><code>mkdir ~/venvs
cd ~/venvs</code></pre>
<p>You can then create a virtual environment named ‘data_science’ as follows:</p>
<pre class="{bash}"><code>python3 -m venv .data_science</code></pre>
<p>Next, you can activate the environment from the command prompt (CMD):</p>
<pre class="{bash}"><code>source .data_science/bin/activate</code></pre>
<p>Once the virtual environment is activated, the prompt should look as follows:</p>
<pre class="{bash}"><code>(.data_science) ... venvs %</code></pre>
<p>Next, you need to install Jupyter and ipykernel by running the following command:</p>
<pre class="{bash }"><code>pip install jupyter ipykernel</code></pre>
<p>Before launching Jupyter, make sure to navigate to your home folder or another directory where you want to save your data science projects For example, you can run:</p>
<pre class="{bash }"><code>cd ~</code></pre>
<p>Finally, you can run <strong>Jupyter</strong> by running the following command:</p>
<pre class="{bash}"><code>jupyter-lab</code></pre>
<section id="exploring-jupyterlab" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exploring-jupyterlab">Exploring JupyterLab</h3>
<p>When you first open JupyterLab, you’ll see a layout similar to <a href="#fig-ch1-jupyter" class="quarto-xref">Figure&nbsp;2</a>. On the right-hand side is the Launcher, which provides buttons to create a new Jupyter notebook, open a console (an interactive Python shell), launch a terminal, or create new files such as text, Markdown, or Python scripts. We will primarily use the button to create a new Notebook.</p>
<div id="cell-fig-ch1-jupyter" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display">
<div id="fig-ch1-jupyter" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch1-jupyter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1-Intro_files/figure-html/fig-ch1-jupyter-output-1.png" id="fig-ch1-jupyter" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-ch1-jupyter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2
</figcaption>
</figure>
</div>
</div>
</div>
<p>On the left-hand side you will see the File Browser. This shows files anf folders in your current working directory. You can click on files to open them in tabs. Right-click options allow you to rename, delete or move files.</p>
<p>On the far left, you’ll find buttons that let you view and manage running terminals, browse a table of contents for Jupyter notebooks, and manage extensions through the PyPI manager.</p>
<p>Each notebook will open in a tab, like in in web browser. You can open multiple tabs side by side.</p>
<p>When you open a new or existing notebook, it appears as a tab in the main work area of JupyterLab’s interface, alongside any other open notebooks or files (see Figure <a href="#fig-ch1-jupyter" class="quarto-xref">Figure&nbsp;2</a>). Notebooks are made up of cells where you can write and run code interactively. In addition to code cells, you can include Markdown cells to add formatted text, explanations, and documentation. The output from running code cells appears directly below them, creating a clear and organized workflow that combines code, results, and narrative in one place.</p>
<div id="cell-fig-ch1-notebook" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display">
<div id="fig-ch1-notebook" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ch1-notebook-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1-Intro_files/figure-html/fig-ch1-notebook-output-1.png" id="fig-ch1-notebook" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-ch1-notebook-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3
</figcaption>
</figure>
</div>
</div>
</div>
<p>You can save the file by clicking the disk button in the top left corner, which will prompt you to enter a name for the notebook. To rename the file later, right-click it in the File Browser. Use the ‘+’ button to add new cells. The next two buttons allow you to copy and paste cells. Click the play button or press <em>Shift + Enter</em> to execute a single cell. Output will appear directly beneath it. Use the stop button to interrupt execution. The restart button restarts the kernel. This is useful if it crashes or if you want to ensure all code cells run from a clean state. The fast forward button restarts the kernel and runs all cells automatically. Finally, the rightmost button lets you switch a cell’s type between code and markdown. Markdown cells let you write formatted text alongside your code, making your notebook easier to follow. You can also move cells up or down or delete them entirely by clicking the buttons on the right side of a cell.</p>
</section>
</section>
<section id="getting-help-and-learning-more" class="level2">
<h2 class="anchored" data-anchor-id="getting-help-and-learning-more">Getting Help and Learning More</h2>
<p>Learning <strong>Python</strong> can be challenging at first—but you do not have to do it alone. Today’s learners have access to powerful support tools that can dramatically accelerate the process. Among them, AI assistants like ChatGPT offer a flexible, conversational way to learn faster, get unstuck, and deepen your understanding.</p>
<p>With an AI assistant, you can ask questions in natural language and receive immediate, context-aware guidance. Whether you are puzzled by an error message, unsure how a function works, or looking for help writing a block of code, tools like ChatGPT provide on-demand support. They can walk you through code step-by-step, generate examples based on your description, and explain unfamiliar concepts in clear, accessible language. This makes them especially helpful during independent study or when you need quick clarification without interrupting your workflow.</p>
<p>That said, AI tools are not the only resource. The help() function, for example, allows you to quickly access documentation for specific functions or objects—an efficient way to explore parameters, expected inputs, and return types without leaving your coding environment.</p>
<p>Online communities also play an important role. Sites such as <a href="https://stackoverflow.com/questions/tagged/r">Stack Overflow</a> provide answers to countless common problems. Searching these forums often reveals solutions or helpful patterns. If you post a new question, remember to include a clear explanation and a reproducible example.</p>
<p>In the end, the best way to learn <strong>Python for data science</strong> is to combine resources: practice regularly, use AI tools to speed up your learning, consult the documentation for accuracy, and turn to the community for collective wisdom. With each small step, you will become more confident in your ability to explore data, write code, and real-world problems.</p>
</section>
<section id="data-science-and-machine-learning-with-python" class="level2">
<h2 class="anchored" data-anchor-id="data-science-and-machine-learning-with-python">Data Science and Machine Learning with Python</h2>
<p>Imagine building a model that predicts hospital readmissions, optimizing a marketing campaign, or uncovering fraud in financial transactions—all using code you understand and control. This book will guide you through that process, showing you how to harness Python’s powerful libraries and tools to work confidently and effectively as a data scientist.</p>
<p>This book introduces the core ideas and practical tools of data science and machine learning, using <strong>Python</strong> as the primary programming environment. You will learn how to prepare data, build models, evaluate results, and communicate insights—applying these skills to real-world datasets throughout the book.</p>
<p><strong>Python</strong> provides a solid foundation for data analysis, machine learning and data visualization. Its real strength, however, lies in its extensive ecosystem of libraries that extend its capabilities for modern data science. Tools like pandas, NumPy, scikit-learn, and matplotlib are easily accessible through package managers such as pip and conda.</p>
<p>Each machine learning method introduced in this book is paired with an appropriate package implementation. For example, in Chapter <strong>?@sec-ch11-tree-models</strong>, we use <strong>scikit-learn</strong> for decision trees and ensemble methods like random forests. In Chapter <strong>?@sec-ch12-neural-networks</strong>, we use introduce the basics of neural network modeling. These tools are introduced with clear examples and hands-on exercises to help you apply them confidently.</p>
<p>To support the examples and exercises in this book, we developed the [<strong>dsf</strong>] library. It includes real-world datasets and utility functions specifically designed for teaching data science with <strong>Python</strong>. Several of these datasets are listed in <strong>?@tbl-data-table</strong>. For example, in Chapter <strong>?@sec-ch7-knn</strong>, we use one of these datasets to demonstrate the k-nearest neighbors (kNN) classification algorithm.</p>
<p>For those interested in going further, the Python ecosystem offers thousands of additional libraries covering areas such as text mining, forecasting, deep learning, and geospatial analysis. Many of these libraries are available through the Python Package Index (PyPI) or conda-forge. You can explore the full PyPI repository at https://pypi.org, or browse curated scientific libraries via https://anaconda.org/conda-forge.</p>
<p>As you progress through this book, you will become not only proficient in <strong>Python</strong> but also fluent in using its rich ecosystem of libraries to tackle real data science challenges. With curiosity and consistent practice, these tools will become part of your everyday workflow.</p>
</section>
<section id="sec-install-packages" class="level2">
<h2 class="anchored" data-anchor-id="sec-install-packages">How to Install Python Libraries</h2>
<p>Libraries are central to working in <strong>Python</strong>. They extend its core capabilities and allow you to perform specialized tasks such as data wrangling, modeling, and visualization. Many examples in this book use contributed packages. You will be prompted to install them as needed.</p>
<section id="installing-libraries" class="level3">
<h3 class="anchored" data-anchor-id="installing-libraries">Installing libraries</h3>
<p>Python is an open-source, general-purpose programming language used in a wide range of applications, including web development, software creation, and data science. Each of these use cases relies on different libraries, which are not included by default to avoid unnecessary disk usage and to keep the installation size manageable. Similarly, libraries are not loaded into memory unless explicitly imported, helping to conserve system resources and minimize memory usage.</p>
<p>You can install new libraries directly from the command prompt / terminal or from within a notebook cell.</p>
<p>For example to install the pandas library, you can run the following command in the command prompt or terminal (after activating the virtual environment):</p>
<pre class="{bash}"><code>pip install pandas</code></pre>
<p>Or you can preceed this command with a percentage sign and run it directly within a notebook cell:</p>
<pre class="{bash}"><code>%pip install pandas</code></pre>
<p>Anaconda comes with its own package manager called conda. Therefore, if you’re using Anaconda, it’s recommended to use conda instead of pip whenever possible, as it better manages dependencies within the Anaconda environment:</p>
<pre class="{bash}"><code>conda install pandas</code></pre>
<p>Or you can precede this command with a percentage sign and run it directly within a notebook cell.:</p>
<pre class="{bash}"><code>%conda install pandas</code></pre>
<p>If you install new libraries from within a notebook (using %pip or %conda) it might be required to restart the kernel before you can import the new library.</p>
<p>Libraries only need to be installed once. However, each time you open a new <strong>Jupyter</strong> session, you must load the library using the <code>import</code> statement. This will be explained in the next section.</p>
</section>
</section>
<section id="how-to-load-python-libraries" class="level2">
<h2 class="anchored" data-anchor-id="how-to-load-python-libraries">How to Load Python libraries</h2>
<p>Once a library is installed, you need to load it into your <strong>Python</strong> session before you can use its functions and datasets. <strong>Python</strong> does not automatically load all installed libaries; instead, it loads only those you explicitly request. This helps keep your environment organized and efficient, avoiding unnecessary memory use and potential conflicts between libraries.</p>
<p>To load a library, use the <code>import</code> statement. For example, to load the <strong>pandas</strong> library, press the play button or <em>Shift + Enter</em>:</p>
<div id="a5d97448" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you see an error such as <code>"ModuleNotFoundError: No module named 'pandas'"</code>, the library has not yet been installed. In that case, return to <a href="#sec-install-packages" class="quarto-xref">Section&nbsp;1.8</a> to review how to install packages using either pip or conda.</p>
<p>Note that we <code>import pandas as pd</code>. This implies that we use <code>pd</code> as an alias for <code>pandas</code>. This follows community convetions, saves typing and improves readability throughout your code.</p>
<p>While installing a library makes it available on your system, loading it with <code>import</code> is necessary each time you start a new <strong>Python</strong> session. Only then will its functions and datasets be accessible in your workspace.</p>
<p>As you progress through this book, you will use several other libraries, such as <strong>matplotlib</strong> for visualization and <strong>scikit-learn</strong> for machine learning algorithms. Each library is introduced when needed.</p>
</section>
<section id="running-your-first-python-code" class="level2">
<h2 class="anchored" data-anchor-id="running-your-first-python-code">Running Your First Python Code</h2>
<p>One of the most empowering aspects of <strong>Python</strong> is that it responds instantly to your commands. This immediate feedback makes it ideal for experimentation, learning, and developing intuition through trial and error. Suppose you just made three online purchases and want to calculate the total cost. In <strong>Python</strong>, you can do that instantly:</p>
<div id="c6097019" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fl">38.23</span> <span class="op">+</span> <span class="fl">11.78</span> <span class="op">+</span> <span class="fl">34.56</span> <span class="op">+</span> <span class="fl">15.43</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>100.0</code></pre>
</div>
</div>
<p>Press the play button or <em>Shift + Enter</em> to execute the code cell. It returns the result. You can also try subtraction, multiplication, or division. Feel free to change the numbers and experiment with different operations.</p>
<p>You can store the result in a variable for later use:</p>
<div id="2781ca6e" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="fl">38.23</span> <span class="op">+</span> <span class="fl">11.78</span> <span class="op">+</span> <span class="fl">34.56</span> <span class="op">+</span> <span class="fl">15.43</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>=</code> symbol is <strong>Python</strong>’s assignment operator: it stores the value on the right under the name on the left. You can think of it as adding a labeling to an object.</p>
<p>Once a value is stored, you can reuse it in future calculations. For example, to add 21% tax:</p>
<div id="e85b4a10" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>total <span class="op">*</span> <span class="fl">1.21</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>121.0</code></pre>
</div>
</div>
<p><strong>Python</strong> retrieves the value of <code>total</code> and performs the calculation. Note that <strong>Python</strong> is case-sensitive. This means <code>Total</code> and <code>total</code> refer to different objects. Always pay attention to capitalization when naming or calling variables and functions. By convention, variable and function names should be written using lowercase letters, often with words separated by underscores (snake_case) to improve readability.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: What is the standard sales tax or VAT rate in your country? Replace <code>1.21</code> with your local multiplier (e.g., <code>1.07</code> for 7% tax) and rerun the code. You could also assign the rate to a variable like <code>tax_rate = 1.21</code> to make your code more readable.</p>
</blockquote>
<p>As you begin writing more lines of code, it becomes helpful to add comments that explain what each part is doing.</p>
<section id="operators" class="level3">
<h3 class="anchored" data-anchor-id="operators">Operators</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 69%">
</colgroup>
<thead>
<tr class="header">
<th>Operator Symbol</th>
<th>Operator Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>=</td>
<td>Assign</td>
<td>Assign the value of the right operand to the left operand</td>
</tr>
<tr class="even">
<td>+</td>
<td>Addition</td>
<td>Add two operands</td>
</tr>
<tr class="odd">
<td>-</td>
<td>Subtraction</td>
<td>Subtract the right operand from the left operand</td>
</tr>
<tr class="even">
<td>*</td>
<td>Multiplication</td>
<td>Multiply two operands</td>
</tr>
<tr class="odd">
<td>/</td>
<td>Division</td>
<td>Divide the left operand by the right operand, return a float</td>
</tr>
<tr class="even">
<td>//</td>
<td>Floor Division</td>
<td>Divide the left operand by the right operand and return the floor value</td>
</tr>
<tr class="odd">
<td>**</td>
<td>Exponent</td>
<td>Raise the left operand to the power of the right operand</td>
</tr>
<tr class="even">
<td>%</td>
<td>Modulo</td>
<td>Returns the remainder of the division of the left operand by the right operand</td>
</tr>
</tbody>
</table>
</section>
<section id="python-whitespace-style-syntax" class="level3">
<h3 class="anchored" data-anchor-id="python-whitespace-style-syntax">Python Whitespace / Style / Syntax?</h3>
<p>In Python, indentation is a key part of the syntax. Indentation refers specifically to the leading spaces or tabs at the beginning of a line of code. This indentation is used to define blocks of code. It is used, amongst others, for loops, conditional statements and functions. Python will raise an <code>expected an indented block</code> error if your code is not indented correctly.</p>
</section>
</section>
<section id="iteration" class="level2">
<h2 class="anchored" data-anchor-id="iteration">Iteration</h2>
<p>Iteration refers to the repetitive execution of the same code over collections of data. For example, you can iterate over elements in lists, tuples and sets, sentences in documents, words in sentences or rows observations in DataFrames (introduce in Chapter …).</p>
<div id="72fd8935" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>i<span class="op">=</span><span class="dv">0</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> i <span class="op">&lt;</span> <span class="dv">5</span>:</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(i)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  i<span class="op">+=</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0
1
2
3
4</code></pre>
</div>
</div>
<p>Note that every iteration statement ends with a <code>:</code>. The next line it indented. While it can be confusing it first, this ensures that your code remains easy to read.</p>
<p>Instead of using a <code>while</code> loop, we can also use <code>for i in range()</code>. This iterates over the range from the first till the last number. Note that the last number is not included in the loop.</p>
<div id="756c9aa0" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span> (<span class="dv">0</span>,<span class="dv">5</span>):</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(i)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0
1
2
3
4</code></pre>
</div>
</div>
<div id="46d2e6db" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>students <span class="op">=</span> [<span class="st">'Alex'</span>, <span class="st">'Taylor'</span>, <span class="st">'Jordan'</span>]</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> student <span class="kw">in</span> students:</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="ss">f"Enjoy Data Science with Python, </span><span class="sc">{</span>student<span class="sc">}</span><span class="ss">!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Enjoy Data Science with Python, Alex!
Enjoy Data Science with Python, Taylor!
Enjoy Data Science with Python, Jordan!</code></pre>
</div>
</div>
<p>We use an <em>f-string</em> (formatted string literal) to personalize the message for each student. The <code>f</code> before the string tells Python to evaluate any expressions inside curly braces <code>{}</code> and insert their values into the string. In this loop, <code>{student}</code> is replaced with each student’s name from the list as the loop iterates. This way, each student receives a customized message.</p>
</section>
<section id="conditional-statements" class="level2">
<h2 class="anchored" data-anchor-id="conditional-statements">Conditional statements</h2>
<div id="fa0e5607" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>age<span class="op">=</span><span class="bu">int</span>(<span class="bu">input</span>(<span class="st">"How old are you? "</span>))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> age<span class="op">&lt;</span><span class="dv">12</span>:</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"A ticket costs 15 euro."</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> age<span class="op">&lt;</span><span class="dv">60</span>:</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"A ticket costs 25 euro."</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"A ticket costs 20 euro."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The code above asks a user to input their age, converts it to an integer and prints the ticket price conditional on the submitted age.</p>
<section id="using-comments-to-explain-your-code" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="using-comments-to-explain-your-code">Using Comments to Explain Your Code</h3>
<p>Comments help explain what your code is doing, making it easier to understand and maintain. In <strong>Python</strong>, comments begin with a <code>#</code> symbol. Everything after <code>#</code> on the same line is ignored when the code runs.</p>
<p>Comments do not affect code execution but are essential for documenting your reasoning—whether for teammates, future readers, or even yourself after a few weeks. This is especially helpful in data science projects, where analyses often involve multiple steps and assumptions.</p>
<p>Here is an example with multiple steps and explanatory comments:</p>
<div id="6b7cc0e1" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a list containing prices of three items</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>prices <span class="op">=</span> [<span class="fl">38.23</span>,    <span class="fl">11.78</span>,  <span class="fl">34.56</span>,  <span class="fl">15.43</span>]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total cost using the sum function</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="bu">sum</span>(prices)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply a 21% tax and print the value</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(total <span class="op">*</span> <span class="fl">1.21</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>121.0</code></pre>
</div>
</div>
<p>In the first line we created a list (denoted by square brackets) including three values. Next, we computed the sum of all the values in the list. Finally we applied a sales tax (through multiplication) and displayed the value using a print() statement. Note that Jupyter automatically displays the result of the last expression in a cell. However, earlier outputs within the same cell are not displayed by default. Therefore, it is recommended to explicitly use the print() statement to show information to the user.</p>
<p>It is also possible to use multi-line comments by enclosing the text within triple double quotes (<code>""" """</code>). For example:</p>
<div id="f97e4ba6" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co">First, we create a list of prices. Then, we compute their total.</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co">Next, we apply VAT and print the final amount to the user.</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>prices <span class="op">=</span> [<span class="fl">38.23</span>,    <span class="fl">11.78</span>,  <span class="fl">34.56</span>,  <span class="fl">15.43</span>]</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>total <span class="op">=</span> <span class="bu">sum</span>(prices)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(total <span class="op">*</span> <span class="fl">1.21</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>121.0</code></pre>
</div>
</div>
<p>Clear comments turn code into a readable narrative, which helps others (and your future self) understand the logic behind your analysis.</p>
</section>
<section id="sec-ch1-functions-in-r" class="level3">
<h3 class="anchored" data-anchor-id="sec-ch1-functions-in-r">Functions in Python</h3>
<p>Functions are at the heart of <strong>Python</strong>. They allow you to perform powerful operations with just a line or two of code, whether you are calculating a summary statistic, transforming a dataset, or creating a plot. Learning how to use functions effectively is one of the most important skills in your data science journey.</p>
<p>A function typically takes one or more <em>arguments</em> (inputs), performs a task, and returns an <em>output</em>. For example, the <code>len()</code> function (short for “length”) computes the length of an object:</p>
<div id="f94c204c" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate how many items are in prices</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(prices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>4</code></pre>
</div>
</div>
<p>We can also combine the len() and the sum() function to compute the average of all values in this list:</p>
<div id="bf0d5af1" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="bu">sum</span>(prices)<span class="op">/</span><span class="bu">len</span>(prices)  <span class="co"># Calculate the mean of prices</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>25.0</code></pre>
</div>
</div>
<p>The general structure of a function call in <strong>Python</strong> looks like this:</p>
<div id="452256d0" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>function_name(parameter1, parameter2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Functions can have required parameters as well as optional ones with default values. To understand how a function works and what arguments it accepts, you can use the built-in <code>help()</code> function:</p>
<div id="ed60413b" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(<span class="bu">len</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Help on built-in function len in module builtins:

len(obj, /)
    Return the number of items in a container.
</code></pre>
</div>
</div>
<p>This opens the help documentation (also called a docstring) for an object. It typically explains what the function does, what types of arguments it accepts, and whether it returns a value.</p>
<p>Note that parameters are the names used in the function definition, while arguments are the values you provide when calling the function.</p>
<p>You will encounter many functions throughout this book—from basic operations like <code>sum()</code> and <code>len()</code> to specialized tools for machine learning. Functions make your code concise, modular, and expressive.</p>
<p>Throughout this book, you will use many built-in functions—often combining them to perform complex tasks in just a few lines of code. For now, focus on understanding how functions are structured and practicing with common examples.</p>
</section>
</section>
<section id="define-your-own-functions" class="level2">
<h2 class="anchored" data-anchor-id="define-your-own-functions">Define your own functions</h2>
<p>In addition to using built-in functions, you can also define your own functions. For example, we may want to create a simple function that returns the mean of the values in a list. Let’s define a function called <code>mean</code>. The function will accept a single paramenter: a list. The function returns the mean of the items in the list.</p>
<div id="89ef1935" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mean(lst):</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">"""</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co">  Return the average of the items in a list. </span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  mean <span class="op">=</span> <span class="bu">sum</span>(lst)<span class="op">/</span><span class="bu">len</span>(lst)</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that <code>def</code> stands for define. <code>mean</code> is the name of the function. <code>lst</code> equals the parameter that the function accepts as input (i.e.&nbsp;a list). The docstring <code>""" """</code> provides the documentation for the function. The function computes the mean by dividing the sum of all items in the list by the length of the list (i.e.&nbsp;the number of items in the list). It then returns the mean.</p>
<p>We can call this function as follows:</p>
<div id="30b38840" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>mean(prices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>25.0</code></pre>
</div>
</div>
<p>We can now also use the help() function on our own function:</p>
<div id="c3b11528" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Help on function mean in module __main__:

mean(lst)
    Return the average of the items in a list.
</code></pre>
</div>
</div>
<p>Creating your own functions helps eliminate repetitive code, keeping your programs clean, easier to maintain, and simpler to debug. Functions also promote reusability—you can store commonly used code in a separate Python file and import it into other projects as needed.</p>
</section>
<section id="why-data-types-matter-in-python" class="level2">
<h2 class="anchored" data-anchor-id="why-data-types-matter-in-python">Why Data Types Matter in Python</h2>
<p>In <strong>Python</strong>, every object—whether a number, string, or logical value—has a data type. These types play a critical role in how <strong>Python</strong> stores, processes, and interprets data. Recognizing the correct type is essential for ensuring that computations behave as expected and that analyses yield valid results.</p>
<p>Here are the most common data types in <strong>Python</strong>:</p>
<p><strong>Integer (int)</strong>: Whole numbers like <code>1</code>, <code>42</code>, or <code>-6</code>. Integers are useful for counting, indexing rows, or representing categories with numeric codes.</p>
<p><strong>Float (float)</strong>: Real numbers such as <code>3.14</code> or <code>-5.67</code>. Used for continuous values such as weight, temperature, or income; they support arithmetic operations.</p>
<p><strong>String (str)</strong>: Text values such as <code>"Data Science"</code> or <code>"Machine Learning"</code>. Character data is used for names, descriptions, labels, and other textual content.</p>
<p><strong>Boolean (bool)</strong>: Boolean values—<code>True</code> or <code>False</code>. Booleans are used for comparisons, filtering, and conditional statements. Note: True and False must start with an uppercase letter.</p>
<p>To check the type of a variable, use the <code>type()</code> function or the <code>isinstance(&lt;var&gt;,&lt;type&gt;</code> function:</p>
<div id="e88cdb0f" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(prices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>list</code></pre>
</div>
</div>
<div id="448158d0" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>a<span class="op">=</span><span class="fl">12.8</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="bu">isinstance</span>(a,<span class="bu">float</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>True</code></pre>
</div>
</div>
<p>This tells you the broad data type <strong>Python</strong> assigns to the obect.</p>
<p>Why does this matter? Treating a numeric variable as string—or vice versa—can cause functions to return incorrect results or warnings. For example:</p>
<div id="f5384576" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>income <span class="op">=</span> [<span class="st">"42000"</span>, <span class="st">"28000"</span>, <span class="st">"160000"</span>]  <span class="co"># Stored as strings</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="bu">min</span>(income) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>'160000'</code></pre>
</div>
</div>
<p><strong>Python</strong> returns <code>160000</code> as the minimum value, which perhaps is not what you expected. In this case, it interprets income as text, not numbers. Because the last value started with a 1, while the others started with a 4 and a 2, the string <code>160000</code> is returned as the minimum value instead of <code>28000</code>. You can fix the issue by first converting the character vector to numeric:</p>
<div id="7879d465" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>income_int <span class="op">=</span> []</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> item <span class="kw">in</span> income:</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  income_int.append(<span class="bu">int</span>(item))</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="bu">min</span>(income_int)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>28000</code></pre>
</div>
</div>
<p>Alternatively, we can use <em>list comprehension</em>:</p>
<div id="e1077a40" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>income <span class="op">=</span> [<span class="bu">int</span>(i) <span class="cf">for</span> i <span class="kw">in</span> income]</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="bu">min</span>(income)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>28000</code></pre>
</div>
</div>
<p>Here, we use <strong>list comprehension</strong> to convert each item in the <code>income</code> list to an integer. List comprehension is a concise way to create a new list by applying an expression to each item in an iterable—in this case, the original <code>income</code> list. After converting all elements to integers, we use <code>min(income)</code> to find the smallest value in the list.</p>
<p>Move this till after we introduce pandas dataframes Later chapters—such as Exploratory Data Analysis (Chapter <strong>?@sec-ch4-EDA</strong>) and Statistical Inference (Chapter <strong>?@sec-ch5-statistics</strong>)—will show you how to apply tools specific to each variable type, whether for summarizing values, visualizing distributions, or building models.</p>
</section>
<section id="data-structures-in-python" class="level2">
<h2 class="anchored" data-anchor-id="data-structures-in-python">Data Structures in Python</h2>
<p>Data structures define how information is organized, stored, and manipulated. Choosing the right structure is essential for effective analysis—whether you are summarizing data, creating visualizations, or building predictive models. For example, storing customer names and purchases calls for a different structure than tracking the results of a simulation.</p>
<p>Data structures are different from data types: data types describe <em>what</em> a value is (e.g., a number or a string), while data structures describe <em>how</em> values are arranged and grouped (e.g., in a table, matrix, or list).</p>
<p>The most commonly used structures in <strong>python</strong> and <strong>pandas</strong> include lists, sets, dictionaries, arrays, series and DataFrames. Each is suited to particular tasks and workflows. In this section, we explore how to create and work with the most commonly used data structures in <strong>python</strong>: lists, tuples, sets, dictionaries, arrays, DataFrames and series. We provide practical examples to illustrate when and how to use them.</p>
<section id="lists" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="lists">Lists</h3>
<p>A list is one of the most commonly used data structures in Python. It represents an ordered collection of elements that can be of any type, including numbers, strings, booleans, or even other lists. Lists can contain a mixture of types in the same sequence. Lists are highly flexible and support operations like adding, removing, or modifying elements, making them ideal for general-purpose programming and data manipulation tasks. They play an important role in programming, especially in statistical modeling, simulations, and any task that involves returning or storing mixed results.</p>
<p>For example, the code below creates a list named <code>tech companies</code> containing several well-known technology companies as its elements.</p>
<div id="f99f3eaa" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>tech_companies <span class="op">=</span> [<span class="st">"Apple"</span>,<span class="st">"Microsoft"</span>,<span class="st">"Intel"</span>,<span class="st">"Nvidia"</span>,<span class="st">'AMD'</span>,<span class="st">"X"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that each element is a string (indicated by the quotation marks) and elements are separated by commas.</p>
<p>A single element of the list can be accessed based on its index:</p>
<div id="3b6836eb" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>tech_companies[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>'Microsoft'</code></pre>
</div>
</div>
<p>This returned ‘Microsoft’, the second element in the list. Python uses zero-based indexing, which means it starts counting starts from 0. This also allows us to select the last element of a list by counting backwards:</p>
<div id="85b3ce01" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>tech_companies[<span class="op">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>'X'</code></pre>
</div>
</div>
<p>We can also select a range of elements using slicing:</p>
<div id="42deb344" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>tech_companies[<span class="dv">2</span>:<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>['Intel', 'Nvidia', 'AMD']</code></pre>
</div>
</div>
<p>It means start at index 2 and go up to but not including index 5.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Create a list that includes a string, a boolean, and a float. Try accessing each component using the <code>[ ]</code> operator and numeric indexing.</p>
</blockquote>
</section>
<section id="tuples" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="tuples">Tuples</h3>
<p>Tuples are similar to tests, but are immutable. This means that its contents cannot be altered. Tuples are denoted by round braces <code>()</code>.</p>
<div id="6bd72872" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>sys_admins<span class="op">=</span>(<span class="st">'admin'</span>,<span class="st">'administrator'</span>,<span class="st">'superuser'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Immutability is useful for creating reliable, consistent, and efficient data collections where the contents should not be altered.</p>
</section>
<section id="sets" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sets">Sets</h3>
<p>A set is an unordered collection of unique elements in Python. Unlike lists, sets do not allow duplicate values and do not maintain any specific order of elements. Sets are particularly useful for membership testing, removing duplicates from a collection, and performing mathematical operations such as unions, intersections, and differences between collections. They provide efficient ways to handle distinct data points. For example:</p>
<div id="71d8807b" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>tech_companies <span class="op">=</span> [<span class="st">"Apple"</span>,<span class="st">"Microsoft"</span>,<span class="st">"AMD"</span>,<span class="st">"X"</span>,<span class="st">"AMD"</span>,<span class="st">"Apple"</span>]</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>tech_companies<span class="op">=</span><span class="bu">set</span>(tech_companies)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(tech_companies)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'Apple', 'X', 'Microsoft', 'AMD'}</code></pre>
</div>
</div>
</section>
<section id="dictionaries" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="dictionaries">Dictionaries</h3>
<p>A dictionary is a mutable data structure that stores key-value pairs. Dictionaries are denoted by curly braces: <code>{}</code>. A dictionary maps keys to values. Unlike lists, where the indices are integers ranging from 0 to length minus 1, the keys in a dictionary can be of (almost) any type.</p>
<div id="1374d9de" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {<span class="st">"profit_2022"</span>: <span class="dv">872</span>,</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"profit_2023"</span>: <span class="dv">967</span>,</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"profit_2024"</span>: <span class="dv">895</span>,</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"profit_2025"</span>: <span class="dv">1085</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the profit for 2024:</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>data[<span class="st">"profit_2024"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>895</code></pre>
</div>
</div>
<p>Instead of single elements, the values can also be lists. This enables storing two-dimensional data, which can subsequently be converted into DataFrames.</p>
<div id="2b25b7f9" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"student_id"</span>: [<span class="dv">101</span>, <span class="dv">102</span>, <span class="dv">103</span>, <span class="dv">104</span>],</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"name"</span>: [<span class="st">"Emma"</span>, <span class="st">"Bob"</span>, <span class="st">"Alice"</span>, <span class="st">"Noah"</span>],</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"age"</span>: [<span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">19</span>, <span class="dv">22</span>],</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"grade"</span>: [<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"A"</span>, <span class="st">"C"</span>]</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="arrays" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="arrays">Arrays</h3>
<p>An <em>array</em> is the most fundamental data structure in <strong>numpy</strong>. It represents a one-dimensional or multi-dimensional sequence of elements, all of the <em>same type</em>—for example, all numbers, all text strings, or all booleans (<code>True</code> or <code>False</code>). Arrays form the foundation of many other data structures, including DataFrames. Compared to Python lists, arrays are more efficient because they have less overhead and support fast, element-wise operations.</p>
<p>You can create a vector using the <code>array()</code> function from Numpy. The code below converts a list into a (NumPy) array.</p>
<div id="0ecbc425" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a numeric vector representing prices of three items</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>prices <span class="op">=</span> np.array([<span class="fl">49.23</span>, <span class="fl">11.78</span>, <span class="fl">38.99</span>])</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the vector</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(prices)</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if `prices` is a vector</span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="bu">isinstance</span>(prices, np.ndarray)</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the number of elements in the vector</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(prices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[49.23 11.78 38.99]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>3</code></pre>
</div>
</div>
<p>In this example, <code>prices</code> is a numeric vector containing three elements. The array looks similar to a list (with square brackets), but the <code>isinstance</code> function confirms that it is indeed a NumPy array. <code>len(prices)</code> tells you how many elements it contains.</p>
<blockquote class="blockquote">
<p><em>Note:</em> All elements in a vector must be of the same type. If you mix types (e.g., numbers and characters), <strong>Python</strong> will coerce them to a common type, usually strings—sometimes with unintended consequences.</p>
</blockquote>
</section>
<section id="multi-dimensional-arrays" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="multi-dimensional-arrays">Multi-dimensional arrays</h3>
<p>Arrays can be multidimensional, such as 2D or 3D. All elements of an array must be of the same type: numeric, character, or logical. Matrices are commonly used in mathematics, statistics, and machine learning for operations involving rows and columns.</p>
<p>To create a matrix, use the <code>matrix()</code> function. Here is a simple example:</p>
<div id="25db1337" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a matrix with 2 rows and 3 columns:</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>my_array <span class="op">=</span> np.array([[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>                     [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]])</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the matrix</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_array)</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if `prices` is a vector</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a><span class="bu">isinstance</span>(my_array, np.ndarray)</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Check its dimensions (rows, columns)</span></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a>my_array.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1 2 3]
 [4 5 6]]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>(2, 3)</code></pre>
</div>
</div>
<p>Alternatively, we can create a 2x3 array by reshaping a list or array using <code>np.reshape()</code>:</p>
<div id="8cde592a" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a 2d-array with 2 rows and 3 columns, filled row by row:</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>my_array <span class="op">=</span> np.reshape([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>],(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_array)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1 2 3]
 [4 5 6]]</code></pre>
</div>
</div>
<p>Multi-dimensional arrays are useful in a wide range of numerical operations, such as matrix multiplication, linear transformations, or storing pairwise distances. They are the backbone of many machine learning algorithms and statistical models—most core computations in neural networks, support vector machines, and linear regression rely on matrix operations behind the scenes.</p>
<p>You can access specific elements using row and column indices:</p>
<div id="4fbc1e82" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the element in row 2, column 3</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>my_array[<span class="dv">1</span>, <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>np.int64(6)</code></pre>
</div>
</div>
<p>This retrieves the value in the second row and third column, since Python uses zero-based indexing (i.e., counting starts from 0).</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Create a 3×3 matrix with your own numbers. Can you retrieve the value in the second row and first column?</p>
</blockquote>
</section>
<section id="dataframes" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="dataframes">DataFrames</h3>
<p>A <em>DataFrame</em> is one of the most important and commonly used data structures in <strong>pandas</strong>. It organizes data in a two-dimensional layout—rows and columns, where each column can store a different data type, such as: all integers, all floats, or all strings. This flexibility makes DataFrames ideal for tabular data, much like what you might encounter in a spreadsheet or database. However, be careful that columns which contain mixed types (e.g., integers and strings) will be upcast to a common type: typically string or object.</p>
<p>In this book, nearly all datasets, whether built-in or imported from external files, are stored and analyzed as DataFrames. Understanding how to work with DataFrames is essential for following the examples and building your own analyses.</p>
<p>You can create a data frame by combining vectors of equal length using the <code>data.frame()</code> function:</p>
<div id="13be3c28" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"student_id"</span>: [<span class="dv">101</span>, <span class="dv">102</span>, <span class="dv">103</span>, <span class="dv">104</span>],</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"name"</span>: [<span class="st">"Emma"</span>, <span class="st">"Bob"</span>, <span class="st">"Alice"</span>, <span class="st">"Noah"</span>],</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"age"</span>: [<span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">19</span>, <span class="dv">22</span>],</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"grade"</span>: [<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"A"</span>, <span class="st">"C"</span>]</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert dictionary to DataFrame</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the DataFrame</span></span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   student_id   name  age grade
0         101   Emma   20     A
1         102    Bob   21     B
2         103  Alice   19     A
3         104   Noah   22     C</code></pre>
</div>
</div>
<p>This creates a data frame named <code>df</code> with four columns. Each row represents a student, and each column holds a different type of information. To confirm the object’s structure, use the <code>.shape</code> attribute:</p>
<div id="63b151e7" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>(4, 4)</code></pre>
</div>
</div>
<p>To explore the contents of a data frame, try:</p>
<div id="cccef69c" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>df.head()    <span class="co"># View the first few rows</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>df.tail()    <span class="co"># View the last few rows</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>df.dtypes      <span class="co"># View data types of each column</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>df.describe().T  <span class="co"># Summary statistics (transposed for readability)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note: Columns containing strings are typically labeled as object dtype in pandas.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Load the <code>churn</code> dataset from the <strong>dsf</strong> package (see <strong>?@sec-import-data</strong>). Then use <code>df.head</code> and <code>df.dtypes</code> to inspect its structure. Which variables are numeric and which are strings?</p>
</blockquote>
</section>
<section id="series" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="series">Series</h3>
<p>A DataFrame contains multiple columns. A Series is another pandas data structure that represents a single column. For example, we can select only the column containing student IDs:</p>
<div id="b5773849" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"student_id"</span>: [<span class="dv">101</span>, <span class="dv">102</span>, <span class="dv">103</span>, <span class="dv">104</span>],</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"name"</span>: [<span class="st">"Emma"</span>, <span class="st">"Bob"</span>, <span class="st">"Alice"</span>, <span class="st">"Noah"</span>],</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"age"</span>: [<span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">19</span>, <span class="dv">22</span>],</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"grade"</span>: [<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"A"</span>, <span class="st">"C"</span>]</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert dictionary to DataFrame</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data)</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the column 'student_id'</span></span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>student_ids <span class="op">=</span> df[<span class="st">'student_id'</span>]</span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the series</span></span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>student_ids</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>0    101
1    102
2    103
3    104
Name: student_id, dtype: int64</code></pre>
</div>
</div>
<p>Display the data structure type of the variable <code>student_ids</code> variable:</p>
<div id="6800f7ca" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(student_ids)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>pandas.core.series.Series</code></pre>
</div>
</div>
<section id="accessing-and-modifying-columns" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="accessing-and-modifying-columns">Accessing and Modifying Columns</h4>
<p>You can extract a specific column from a data frame by using the indexing operator <code>[]</code> or by using the dot notation <code>.</code>:</p>
<div id="860f4e38" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Access the 'age' column</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"age"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>0    20
1    21
2    19
3    22
Name: age, dtype: int64</code></pre>
</div>
</div>
<p>You can also use <code>df.age</code>. However, be careful when using the dot notation to not overwrite built-in methods, such as <code>df.count</code>, <code>df.sum</code> or <code>df.mean</code>.</p>
<p>To modify a column—for example, to add 1 to each age:</p>
<div id="c0a0c11d" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"age"</span>]<span class="op">=</span> df[<span class="st">"age"</span>] <span class="op">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also add a new column whose values depend on a condition applied to another column. We use NumPy’s <code>np.where()</code> to achieve this:</p>
<div id="1fb1b4a0" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a boolean column based on age</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'is_adult'</span>] <span class="op">=</span> np.where(df[<span class="st">'age'</span>] <span class="op">&gt;</span> <span class="dv">21</span>, <span class="va">True</span>, <span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This creates a new column called <code>is_adult</code> with <code>True</code> or <code>False</code> values. It is recommended that column names don’t contain spaces because they make code harder to write and can cause syntax errors. Using all lowercase with underscores improves readability, consistency, and prevents bugs.</p>
<div id="5b686d29" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">student_id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">grade</th>
<th data-quarto-table-cell-role="th">is_adult</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>101</td>
<td>Emma</td>
<td>21</td>
<td>A</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>102</td>
<td>Bob</td>
<td>22</td>
<td>B</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>103</td>
<td>Alice</td>
<td>20</td>
<td>A</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>104</td>
<td>Noah</td>
<td>23</td>
<td>C</td>
<td>True</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>DataFrames are especially useful in real-world analysis, where datasets often mix numerical and categorical variables. For example, in this book, we frequently use the <em>churn</em> dataset from the <strong>dsf</strong> package:</p>
<div id="028a43c0" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> dsf <span class="co"># To load the dsf package</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> dsf.load(<span class="st">'churn'</span>) <span class="co"># To load the churn dataset</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Explore the structure of the data</span></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>info()</code> method provides a concise overview of the data structure, column names, number of non-missing values, and data types in a DataFrame. This is a key first step when working with a new dataset.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Create a dictionary with three columns—one numeric, one character, and one boolean. Then conver the dictionary to a DataFrame. Try to extract or modify individual columns, and try adding a new column using a boolean condition.</p>
</blockquote>
</section>
</section>
</section>
<section id="import-data-into-python" class="level2">
<h2 class="anchored" data-anchor-id="import-data-into-python">Import Data into Python</h2>
<p>Before you can explore, model, or visualize anything in <strong>Python</strong>, you first need to bring data into your session. To work with data we rely on the pandas library. Pandas supports a wide range of formats, including text files, Excel spreadsheets, and datasets hosted on the web. Depending on your needs and the file type, you can choose from several efficient methods to load your data.</p>
<section id="importing-csv-files" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="importing-csv-files">Importing CSV Files</h3>
<p>You can load CSV files using the <code>read_csv()</code> function from base <strong>pandas</strong>. This is one of the most common ways to import data, especially for scripting or automating workflows.</p>
<p>Before using pandas, we first need to import it. It’s common practice to import pandas with the alias pd for convenience:</p>
<div id="2b79133e" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This abbreviation makes your code cleaner and easier to read, especially when calling pandas functions frequently.</p>
<p>To load a CSV file from your computer, use:</p>
<div id="3b2009d7" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"path/to/your/file.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The data is loaded into a DataFram named <code>df</code>. The variable <code>df</code> is commonly used in data science and machine learning, because it is a short and convenient abreviation for “DataFrame”. A DataFrame is a two-dimensional, tabular data structure used by the pandas library. It stores data in rows and columns, similar to a spreadsheet or SQL table, where: - Columns represent variables or features. - Row represent individual records or observations.</p>
<p>Replace <code>"path/to/your/file.csv"</code> with the actual file path to your CSV file. If your file does not include column names in the first row, set <code>header = None</code>:</p>
<div id="d798d70d" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"path/to/your/file.csv, header = None)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you want to provide your own column names, you can use the <code>names</code> paramater:</p>
<div id="987cf29a" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"path/to/your/file.csv"</span>, header <span class="op">=</span> <span class="va">None</span>, names<span class="op">=</span>[<span class="st">'column1'</span>, <span class="st">'column2'</span>, <span class="st">'column3'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this case, we provided a list of column names, as denoted by the […], where each column name is a string separated by commas.</p>
<p>When importing a tab-delimited file, you can specify the delimiter <code>\t</code>:</p>
<div id="375066df" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"path/to/your/file.csv"</span>, sep<span class="op">=</span><span class="st">'</span><span class="ch">\t</span><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also import data directly from a URL by passing it to <code>pd.read_csv()</code>:</p>
<div id="557fb9c5" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"https://example.com/data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing-excel-files" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="importing-excel-files">Importing Excel Files`</h3>
<p>Excel is one of the most common formats for storing data in business, education, and research. To import <code>.xlsx</code> or <code>.xls</code> files into <strong>python</strong>, use the <code>read_excel()</code> function from the <strong>pandas</strong> package. This requires installing the library <code>openpyxl</code> first. You can do this using pip (from the command prompt or terminal):</p>
<pre class="{bash}"><code>pip install openpyxl</code></pre>
<p>Alternatively, you can install it directly from a jupyter notebook by typing <code>%pip install openpyxl</code>.</p>
<p>To load an excel file from your computer, use:</p>
<div id="a88a354c" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_excel(<span class="st">"path/to/your/file.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Replace <code>"path/to/your/file.xlsx"</code> with the actual file path to your Excel file.</p>
<p>Unlike <code>read_csv()</code>, <code>read_excel()</code> supports multiple sheets in a single workbook. To import a specific sheet, use the <code>sheet_name</code> parameter:</p>
<p><code>{r eval = FALSE} df = pd.read_excel("path/to/your/file.xlsx", sheet_name="Sheet5")</code></p>
<p>This is especially useful when Excel files contain separate tables across different tabs. If your file includes merged cells, multi-row headers, or other formatting quirks, it is best to clean it in Excel first—or handle it programmatically in <strong>Python</strong> after import.</p>
</section>
<section id="setting-the-working-directory" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="setting-the-working-directory">Setting the Working Directory</h3>
<p>The <em>working directory</em> is the folder on your computer where <strong>Python</strong> looks for files to read, and where it saves any output by default. When you import data, <strong>Python</strong> will search this folder unless you give a full path to the file.</p>
<p>To find out your current working directory, use:</p>
<div id="d3099f31" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>os.getcwd()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To change it you can use <code>os.chdir()</code>.</p>
<p>On Windows:</p>
<div id="54cbc16b" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>os.chdir(<span class="vs">r"c:</span><span class="er">\</span><span class="vs">cloud</span><span class="dv">\m</span><span class="vs">y_project"</span>)  <span class="co"># Adjust this path to match your system</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The r in front of a string like r”C:_project” in Python means “raw string”, and it is used to prevent Python from interpreting backslashes as escape characters.</p>
<p>On MacOS or Linux:</p>
<div id="a7f64ff5" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>os.chdir(<span class="st">"~/Documents"</span>)  <span class="co"># Adjust this path to match your system</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Setting the working directory properly can save time and reduce errors when loading or saving files. If you’re getting “file not found” errors, checking the working directory is a good first step.</p>
</section>
<section id="loading-data-from-packages" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="loading-data-from-packages">Loading Data from Packages</h3>
<p>In addition to reading external files, <strong>Python</strong> also provides access to datasets that come bundled with packages. These datasets are immediately usable and are ideal for practice, examples, and case studies.</p>
<p>In this book, we use the <strong>dsf</strong> package—developed specifically for teaching purposes—which includes several real-world datasets. One of the main datasets is <code>churn</code>, which contains information on customer behavior in a telecommunications context. If you have not installed the package yet, follow the guidance in <a href="#sec-install-packages" class="quarto-xref">Section&nbsp;1.8</a>.</p>
<p>To load the dataset into your environment, run:</p>
<div id="a5934578" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> dsf <span class="co"># To load the dsf package</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> dsf.load(<span class="st">'churn'</span>) <span class="co"># To load the churn dataset</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The customer churn dataset is loaded into a DataFrame (<code>df</code>). This dataset, along with others listed in Table <strong>?@tbl-data-table</strong>, will appear throughout the book in examples related to modeling, evaluation, and visualization. In Chapter <strong>?@sec-ch4-EDA</strong>, you will perform exploratory data analysis (EDA) on <code>churn</code> to uncover patterns and prepare it for modeling.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: After loading <code>churn</code>, use <code>df.head()</code> or <code>df.describe().T</code> to explore its structure and variables.</p>
</blockquote>
<p>Using datasets embedded in packages like <strong>dsf</strong> ensures that your analysis is reproducible and portable across systems, since the data can be loaded consistently in any <strong>Python</strong> session.</p>
</section>
</section>
<section id="accessing-columns-and-rows-in-pandas" class="level2">
<h2 class="anchored" data-anchor-id="accessing-columns-and-rows-in-pandas">Accessing Columns and Rows in Pandas</h2>
<p>Once your data is loaded into <strong>Pandas</strong>, you will often need to extract specific columns (variables) or rows (observations) for inspection, transformation, or visualization. Common tools for this are the <code>[]</code> (bracket) operator, <code>df.head()</code>, <code>df.iloc[]</code> and <code>df.query()</code>.</p>
<section id="selecting-colums" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="selecting-colums">Selecting colums</h3>
<p>The <code>[]</code> operator or the the <code>.</code> operator provides a quick and readable way to access a single column from a data frame or a named element from a list. For example, to access the <code>name</code> column in the <code>df</code> DataFrame:</p>
<div id="bde34324" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'name'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>0     Emma
1      Bob
2    Alice
3     Noah
Name: name, dtype: object</code></pre>
</div>
</div>
<p>This returns a vector containing the values in the <code>name</code> column.</p>
</section>
<section id="examine-rows" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="examine-rows">Examine rows</h3>
<p>To extract the first five rows of <code>df</code> we can use the <code>.head()</code> method:</p>
<div id="746bb6f1" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">student_id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">grade</th>
<th data-quarto-table-cell-role="th">is_adult</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>101</td>
<td>Emma</td>
<td>21</td>
<td>A</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>102</td>
<td>Bob</td>
<td>22</td>
<td>B</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>103</td>
<td>Alice</td>
<td>20</td>
<td>A</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>104</td>
<td>Noah</td>
<td>23</td>
<td>C</td>
<td>True</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>By default, df.head() displays the first 5 rows, but you can change this by passing a number as an argument—for example, df.head(10) shows the first 10 rows. To extract the last five rows of <code>df</code> we can use the <code>.tail()</code> method.</p>
<p>To select specific rows, we can use the <code>[]</code> operator to select a slice:</p>
<div id="0b8273ac" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>df[<span class="dv">2</span>:<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">student_id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">grade</th>
<th data-quarto-table-cell-role="th">is_adult</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>103</td>
<td>Alice</td>
<td>20</td>
<td>A</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>104</td>
<td>Noah</td>
<td>23</td>
<td>C</td>
<td>True</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can also select specific columns by passing a list of column names:</p>
<pre class="{pythhon}"><code>df[["name", "grade"]]</code></pre>
<p>This returns a new DataFrame containing only the “name” and “grade” columns. Note the double square brackets <code>[[ ]]</code>. The outer brackets <code>[ ... ]</code> are used for selecting columns from the DataFrame. The inner brackets <code>["name", "grade"]</code> define a list of column names.</p>
<p>To extract a specific value, for example the grade in the third row, we can combine <code>df.iloc</code>, which selects rows by integer position, with <code>[]</code> to select the column:</p>
<div id="f297dea2" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">2</span>][<span class="st">"grade"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>'A'</code></pre>
</div>
</div>
<p>We can use <code>df.query()</code> for conditional selection. For example, to select students who are 20 years or older and scored an A:</p>
<div id="5527b83e" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>df.query(<span class="st">'age &gt;= 20 and grade =="A"'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">student_id</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">grade</th>
<th data-quarto-table-cell-role="th">is_adult</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>101</td>
<td>Emma</td>
<td>21</td>
<td>A</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>103</td>
<td>Alice</td>
<td>20</td>
<td>A</td>
<td>False</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The entire query expression is enclosed in single quotes <code>'...'</code> because it is passed as a string to the <code>query()</code> method. Inside that string, the value <code>"A"</code> must be in double quotes to be recognized as a string literal in the condition. Using different types of quotes prevents conflicts and syntax errors.</p>
<blockquote class="blockquote">
<p><em>Try it yourself</em>: Load the <code>churn</code> dataset from the <strong>dsf</strong> package. Extract only the rows where the <code>state</code> is <code>"OH"</code> and the <code>account_length</code> is greater than 100. Then, display the <code>churn</code> status for those customers.</p>
</blockquote>
</section>
</section>
<section id="how-to-merge-data-in-pandas" class="level2">
<h2 class="anchored" data-anchor-id="how-to-merge-data-in-pandas">How to Merge Data in Pandas</h2>
<p>In real-world data analysis, information is often spread across multiple tables. Merging datasets allows you to combine related information—such as customer demographics and transaction histories—into a single structure for analysis. I have included this section early in the book because many of my students frequently ask how to combine data from different sources when working on their course projects. As soon as you begin working with real datasets, merging becomes a practical and essential skill—since the information you need rarely comes in a single file.</p>
<p>In <strong>pandas</strong>, the base function <code>merge()</code> provides a flexible way to join two data frames using one or more shared columns (known as <em>keys</em>):</p>
<div id="593abd12" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>df_merged<span class="op">=</span>pd.merge(data_frame1, data_frame2, on<span class="op">=</span><span class="st">"column_name"</span>, how<span class="op">=</span><span class="st">"outer"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here, <code>data_frame1</code> and <code>data_frame2</code> are the data frames to be merged, and <code>on</code> specifies the column(s) they have in common. The <code>how</code> parameter determines the type of join performed. If you’re matching on multiple columns, you can pass a list to <code>on</code>.</p>
<p>Consider the following two example DataFrames:</p>
<div id="d265cb7a" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create 2 dictionaries containing data</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>data1 <span class="op">=</span> {</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"id"</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"name"</span>: [<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"David"</span>, <span class="st">"Eve"</span>],</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"age"</span>: [<span class="dv">22</span>, <span class="dv">28</span>, <span class="dv">35</span>, <span class="dv">20</span>]</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>data2 <span class="op">=</span> {</span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"id"</span>: [<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>],</span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"age"</span>: [<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">22</span>, <span class="dv">28</span>],</span>
<span id="cb124-11"><a href="#cb124-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"salary"</span>: [<span class="dv">50000</span>, <span class="dv">60000</span>, <span class="dv">70000</span>, <span class="dv">80000</span>],</span>
<span id="cb124-12"><a href="#cb124-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"job"</span>: [<span class="st">"analyst"</span>, <span class="st">"manager"</span>, <span class="st">"developer"</span>, <span class="st">"designer"</span>]</span>
<span id="cb124-13"><a href="#cb124-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb124-14"><a href="#cb124-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-15"><a href="#cb124-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Convert dictionaries to DataFrames</span></span>
<span id="cb124-16"><a href="#cb124-16" aria-hidden="true" tabindex="-1"></a>df1<span class="op">=</span>pd.DataFrame(data1)</span>
<span id="cb124-17"><a href="#cb124-17" aria-hidden="true" tabindex="-1"></a>df2<span class="op">=</span>pd.DataFrame(data2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To perform an <em>inner join</em> (keeping only rows with matching <code>id</code> values in both DataFrames):</p>
<div id="8ef0e507" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>merged_df<span class="op">=</span>pd.merge(df1,df2,on<span class="op">=</span><span class="st">'id'</span>)</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>merged_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Since inner is the default join type, you can omit the <code>how</code> parameter.</p>
<p>To perform a <em>left join</em> (keeping all rows from <code>df1</code> and merging matched data from <code>df2</code>), set <code>how='left'</code>:</p>
<div id="aa097670" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>merged_df<span class="op">=</span>pd.merge(df1,df2,on<span class="op">=</span><span class="st">'id'</span>,how<span class="op">=</span><span class="st">'python'</span>)</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>merged_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Other common options include:</p>
<ul>
<li><code>how = 'right'</code>: <em>right join</em> (keep all rows from <code>df2</code>)</li>
<li><code>how = 'outer;</code>: <em>full join</em> (keep all rows from both data frames)</li>
</ul>
<p>If a row in one data frame has no match in the other, <strong>python</strong> will insert <code>NaN</code> values in the unmatched columns. ‘Nan’ stands for ‘Not a Number’. This is a special floating-point value used in pandas to represent missing data.</p>
<blockquote class="blockquote">
<p><em>Tip</em>: Always check the number of rows before and after a merge. If you see unexpected <code>NaN</code>s or missing records, it may signal a mismatch in key values or column types.</p>
</blockquote>
</section>
<section id="chapter-summary-and-takeaways" class="level2">
<h2 class="anchored" data-anchor-id="chapter-summary-and-takeaways">Chapter Summary and Takeaways</h2>
<p>This chapter introduced the <strong>Python</strong> programming language as the foundation for data science and machine learning. You installed <strong>Python</strong> and <strong>Jupyter</strong>, explored the Jupyter interface, and executed your first commands. You also learned how <strong>Python</strong> and <strong>pandas</strong> handle core data types and structures, how to import and examine real-world datasets, and how to visualize data effectively.</p>
<p>Throughout this chapter, we emphasized foundational habits: <em>writing clean code</em>, <em>thinking systematically</em>, and <em>building scalable workflows</em>. These principles are essential at every stage of the <em>Data Science Workflow</em> and will serve as your compass throughout this book. Many of my students begin their journey with no prior programming experience. Yet by the end of the course, they confidently use <strong>Python</strong> to explore real-world datasets, create meaningful visualizations, and draw actionable insights.If you are starting from scratch, take heart. This path is entirely achievable, and you are in good company.</p>
<blockquote class="blockquote">
<p><em>Key takeaway</em>: Mastering <strong>Python</strong> is not about memorization. Instead, it is about developing a mindset for working with data. As illustrated in <a href="#fig-ch1-tiny-gains" class="quarto-xref">Figure&nbsp;1</a>, small, consistent improvements lead to substantial progress. Do not worry if everything feels unfamiliar right now. By working through the upcoming chapters step by step, you will gradually build fluency and confidence in using <strong>Python</strong> to analyze data and communicate insights.</p>
</blockquote>
<p>Now that you have installed <strong>Python</strong>, explored its key concepts, and visualized data with <strong>ggplot2</strong>, it is time to apply what you have learned.</p>
</section>
<section id="sec-intro-R-exercises" class="level2">
<h2 class="anchored" data-anchor-id="sec-intro-R-exercises">Exercises</h2>
<p>Use the exercises below to reinforce your understanding of the tools and concepts introduced in this chapter. Begin with foundational tasks, then build toward more complex data exploration and visualization challenges.</p>
<section id="basic-exercises" class="level3">
<h3 class="anchored" data-anchor-id="basic-exercises">Basic Exercises</h3>
<ol type="1">
<li><p>Install <strong>Python</strong> and <strong>Jupyter</strong> on your computer.</p></li>
<li><p>Use <code>getwd()</code> to check your current working directory. Then use <code>setwd()</code> to change it to a location of your choice.</p></li>
<li><p>Create a numeric vector <code>numbers</code> with the values 5, 10, 15, 20, and 25. Calculate its mean and standard deviation.</p></li>
<li><p>Use the <code>matrix()</code> function to construct a 3 × 4 matrix filled with the numbers 1 through 12.</p></li>
<li><p>Build a data frame with the following columns:</p></li>
</ol>
<ul>
<li><code>student_id</code>: integer</li>
<li><code>name</code>: character</li>
<li><code>score</code>: numeric</li>
<li><code>passed</code>: logical (set to <code>TRUE</code> or <code>FALSE</code>)</li>
</ul>
<p>Display the first few rows using <code>head()</code>.</p>
<ol start="6" type="1">
<li><p>Install and load the <strong>liver</strong> and <strong>ggplot2</strong> packages. If installation fails, check your internet connection and CRAN access.</p></li>
<li><p>Load the <code>churn</code> dataset from the <strong>liver</strong> package. Display the first six rows with <code>head()</code>.</p></li>
<li><p>Use <code>str()</code> to inspect the structure of the <code>churn</code> dataset, and identify its variable types.</p></li>
<li><p>Use <code>dim()</code> to report the number of rows and columns in the dataset.</p></li>
<li><p>Apply <code>summary()</code> to generate descriptive statistics for all variables in <code>churn</code>.</p></li>
<li><p>Create a scatter plot of <code>day.mins</code> vs.&nbsp;<code>eve.mins</code> using <strong>ggplot2</strong>.</p></li>
<li><p>Create a histogram of the <code>day.calls</code> variable.</p></li>
<li><p>Create a boxplot of <code>day.mins</code>.</p></li>
<li><p>Create a boxplot of <code>day.mins</code> grouped by <code>churn</code> status. <em>Hint:</em> See Section <span class="citation" data-cites="EDA-sec-numeric">[-@EDA-sec-numeric]</span>.</p></li>
<li><p>Use <code>mean()</code> to compute the average number of customer service calls overall, and for customers who churned (<code>churn == "yes"</code>).</p></li>
<li><p>Create an R Markdown report that includes:</p></li>
</ol>
<ul>
<li>A title and your name</li>
<li>A code chunk that explores the <code>churn</code> dataset</li>
<li>At least one visualization.</li>
</ul>
<p>Render the report to HTML.</p>
</section>
<section id="more-challenging-exercises" class="level3">
<h3 class="anchored" data-anchor-id="more-challenging-exercises">More Challenging Exercises</h3>
<ol start="17" type="1">
<li>Simulate a dataset of 200 patients using the following code. Then, use <code>summary()</code> to explore the dataset. This data will be used in Chapter <strong>?@sec-ch7-classification-knn</strong>.</li>
</ol>
<pre class="{r}"><code># Simulate data for kNN
set.seed(10)

n  = 200         # Number of patients
n1 = 90          # Number of patients with drug A
n2 = 60          # Number of patients with drug B 
n3 = n - n1 - n2 # Number of patients with drug C

# Generate Age variable between 15 and 75
Age = sample(x = 15:75, size = n, replace = TRUE)

# Generate Drug Type variable with three levels
Type = sample(x = c("A", "B", "C"), size = n, replace = TRUE, prob = c(n1, n2, n3))

# Generate Sodium/Potassium Ratio based on Drug Type
Ratio = numeric(n)

Ratio[Type == "A"] = sample(x = 10:40, size = sum(Type == "A"), replace = TRUE)
Ratio[Type == "B"] = sample(x =  5:15, size = sum(Type == "B"), replace = TRUE)
Ratio[Type == "C"] = sample(x =  5:15, size = sum(Type == "C"), replace = TRUE)

# Create a data frame with the generated variables
drug_data = data.frame(Age = Age, Ratio = Ratio, Type = Type)</code></pre>
<ol start="18" type="1">
<li>Visualize the relationship between <code>Age</code> and <code>Ratio</code>, using color and shape to distinguish <code>Type</code>:</li>
</ol>
<pre class="{r}"><code>ggplot(drug_data, aes(x = Age, y = Ratio)) +
  geom_point(aes(color = Type, shape = Type)) +
  labs(title = "Age vs. Sodium/Potassium Ratio",
       x = "Age", y = "Sodium/Potassium Ratio")</code></pre>
<ol start="19" type="1">
<li>Add an <code>Outcome</code> variable to <code>drug_data</code> where:</li>
</ol>
<ul>
<li><code>Type == "A"</code> has a high chance of <code>"Good"</code> outcome</li>
<li><code>Type == "B"</code> or <code>"C"</code> have a lower chance of <code>"Good"</code></li>
</ul>
<ol start="20" type="1">
<li><p>Create a scatter plot of <code>Age</code> vs.&nbsp;<code>Ratio</code>, colored by <code>Outcome</code>.</p></li>
<li><p>Create an <code>Age_group</code> variable:</p></li>
</ol>
<ul>
<li><code>"Young"</code> if age <span class="math inline">\(\leq\)</span> 30</li>
<li><code>"Middle-aged"</code> if 31 <span class="math inline">\(\leq\)</span> age <span class="math inline">\(\leq\)</span> 50</li>
<li><code>"Senior"</code> if age <span class="math inline">\(&gt;\)</span> 50</li>
</ul>
<ol start="22" type="1">
<li><p>Calculate the mean <code>Ratio</code> for each <code>Age_group</code>.</p></li>
<li><p>Use <strong>ggplot2</strong> to create a bar chart showing average <code>Ratio</code> by <code>Age_group</code>.</p></li>
<li><p>Create a new variable <code>Risk_factor = Ratio * Age / 10</code>. Summarize how <code>Risk_factor</code> differs by <code>Type</code>.</p></li>
<li><p>Visualize <code>Risk_factor</code> in two ways:</p></li>
</ol>
<ul>
<li>A histogram grouped by <code>Type</code></li>
<li>A boxplot grouped by <code>Outcome</code></li>
</ul>
<ol start="26" type="1">
<li>Use <strong>R</strong> and <strong>ggplot2</strong> to recreate Figure <a href="#fig-ch1-tiny-gains" class="quarto-xref">1</a>, which illustrates the compounding effect of small improvements. First, generate a data frame with three curves:</li>
</ol>
<ul>
<li><span class="math inline">\(y = (1.01)^x\)</span> (<span class="math inline">\(1%\)</span> better each day),</li>
<li><span class="math inline">\(y = (0.99)^x\)</span> (<span class="math inline">\(1%\)</span> worse each day),</li>
<li><span class="math inline">\(y = 1\)</span> (no change).</li>
</ul>
<p>Then use <code>geom_line()</code> to plot the curves. Customize line colors and add informative labels using <code>annotate()</code>. <em>Hint:</em> Refer to the example in Section <strong>?@sec-ch1-visualization</strong>.</p>
<ol start="27" type="1">
<li>Extend the Tiny Gains plot created in Exercise 26 by:</li>
</ol>
<ul>
<li>Changing the x-axis label to <code>"Days of Practice"</code>,</li>
<li>Applying a theme such as <code>theme_minimal()</code>,</li>
<li>Adding a title: <code>"The Power of Consistent Practice"</code>,</li>
<li>Saving the plot using <code>ggsave()</code> as a PDF or PNG file.</li>
</ul>
<ol start="28" type="1">
<li>For Exercise 26, change the number of days in your tiny gains plot. What do you observe if you compare 30 days to 365?</li>
</ol>
</section>
<section id="reflect-and-connect" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="reflect-and-connect">Reflect and Connect</h3>
<p>These reflection questions encourage you to pause, assess your progress, and consider your goals as you continue.</p>
<ol start="29" type="1">
<li>Which concepts in this chapter felt most intuitive, and which ones did you find challenging?</li>
<li>How might these skills help you analyze data in your own research or field of study?</li>
<li>Looking ahead, what would you like to be able to do with <strong>Python</strong> by the end of this book?</li>
</ol>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>